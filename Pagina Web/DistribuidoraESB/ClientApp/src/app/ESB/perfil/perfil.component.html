<div class="wrapper">
    <div id="sidebar" [ngClass]="{'active':  activa}">
        <div class="TituloBarra">
            <h5><span class="fas fa-user-cog"></span>Admin</h5>
        </div>
        <hr>
        <p>
            <button class="btnbarra" style="width: 100%; " type="bootton" (click)="mostrar = 'EditarInfo'">
                <span class="far fa-edit"></span> Editar info
            </button>
        </p>
        <p>
            <button class="btnbarra" style="width: 100%; " type="bootton" data-toggle="collapse"
                data-target="#collapseOpsClientes" aria-expanded="false" aria-controls="collapseOpsClientes">
                <span class="fas fa-users"></span>Clientes
            </button>
        </p>
        <div class="collapse OpsMenu" id="collapseOpsClientes">
            <hr style="background-color: rgb(250, 81, 81);">
            <button class="btnbarra" style="width: 100%; " type="bootton" data-toggle="collapse"
                data-target="#collapseOpsClientes" aria-expanded="false" aria-controls="collapseOpsClientes"
                (click)="mostrar ='RegistrarCliente'">
                <span class="fas fa-user-plus"></span>Registrar
            </button>
            <button class="btnbarra" style="width: 100%; " type="bootton" data-toggle="collapse"
                data-target="#collapseOpsClientes" aria-expanded="false" aria-controls="collapseOpsClientes"
                (click)="mostrar = 'Clientes';mostrarInterno='Cliente';clientes()">
                <span class="fas fa-users"></span>Lista
            </button>
            <button class="btnbarra" style="width: 100%; " type="bootton" data-toggle="collapse"
                data-target="#collapseOpsClientes" aria-expanded="false" aria-controls="collapseOpsClientes"
                (click)="mostrar = 'Clientes'; mostrarInterno='Descuentos'">
                <span class="fas fa-percentage"></span>Descuentos
            </button>
            <hr>
        </div>
        <p>
            <button class=" btnbarra" style="width: 100%; " type="button" data-toggle="collapse"
                data-target="#collapseOpsProductos" aria-expanded="false" aria-controls="collapseOpsProductos">
                <span class="fas fa-tags"></span>Productos
            </button>
        </p>
        <div class="collapse OpsMenu" id="collapseOpsProductos">
            <hr>
            <button class="btnbarra" style="width: 100%; " type="bootton" data-toggle="collapse"
                data-target="#collapseOpsProductos" (click)="mostrar ='RegistrarPrdocuto'; selectedFile = null">
                <span class="fas fa-tag"></span> Registrar
            </button>
            <button class="btnbarra" style="width: 100%; " type="bootton" data-toggle="collapse"
                data-target="#collapseOpsProductos" (click)="mostrar = 'Productos'; productos()">
                <span class="fas fa-tags"></span> Lista
            </button>
            <hr>
        </div>
        <p>
            <button class="btnbarra" style="width: 100%; " type="bootton" data-toggle="collapse"
                data-target="#collapseOpsPedidos" aria-expanded="false" aria-controls="collapseOpsPedidos">
                <span class="fas fa-suitcase-rolling"></span>Pedidos
            </button>
        </p>
        <div class="collapse OpsMenu" id="collapseOpsPedidos">
            <hr style="background-color: rgb(250, 81, 81);">
            <button class="btnbarra" style="width: 100%; " type="bootton" data-toggle="collapse"
                data-target="#collapseOpsPedidos" aria-expanded="false" aria-controls="collapseOpsPedidos"
                (click)="mostrar ='Clientes';mostrarInterno='RegistrarPedido'">
                <span class="fas fa-suitcase-rolling"></span>Registrar
            </button>
            <button class="btnbarra" style="width: 100%; " type="bootton" data-toggle="collapse"
                data-target="#collapseOpsPedidos" aria-expanded="false" aria-controls="collapseOpsPedidos"
                (click)="mostrar = 'Pedidos';pedidos()">
                <span class="fas fa-suitcase-rolling"></span>Lista
            </button>
            <hr>
        </div>
    </div>
    <div id="content">
        <div class="row barraTituloContenido">
            <div class="col" style="max-width: 50px;">
                <button type="button" id="sidebarCollapse" class="btn btn-outline-danger btnMenu"
                    style="border-radius: 50%;" (click)="activa = !activa">
                    <span class="fas fa-bars" style="margin-right: 0rem;"></span>
                </button>
            </div>
            <div class="col text-center" style="margin-top: 1rem; max-width: 100%;">
                <h4>{{administrador.puesto}} {{administrador.nombres}} {{administrador.apellidos}}</h4>
            </div>
        </div>
        <div class="contenedor" [ngClass]="{'Ocultar':  mostrar != 'Principal'}">
            <div class="row">
                <div class="Cuerpo ">
                    <div class="row d-flex justify-content-center" style="width: 98%;">
                        <div class="col CuerpoCard">
                            <div class="row" style="margin: 1rem;">
                                <div class="col iconoCard">
                                    <div style="font-size: 2rem;">
                                        <span class="fas fa-users"></span>
                                    </div>
                                </div>
                                <div class="col d-flex justify-content-end">
                                    <h5>Clientes.</h5>
                                </div>
                            </div>
                            <hr>
                            <div style="margin-bottom: .5rem; font-size: .4cm;">
                                Clientes registrados: {{totalClientes}}
                            </div>
                        </div>
                        <div class="col CuerpoCard">
                            <div class="row" style="margin: 1rem;">
                                <div class="col iconoCard">
                                    <div style="font-size: 2rem;">
                                        <span class="fas fa-users"></span>
                                    </div>
                                </div>
                                <div class="col d-flex justify-content-end">
                                    <h5>Clientes.</h5>
                                </div>
                            </div>
                            <hr>
                            <div style="margin-bottom: .5rem;font-size: .4cm">
                                Clientes nuevos: {{totalClientes}}
                            </div>
                        </div>
                        <div class="col CuerpoCard">
                            <div class="row" style="margin: 1rem;">
                                <div class="col iconoCard">
                                    <div style="font-size: 2rem;">
                                        <span class="fas fa-users"></span>
                                    </div>
                                </div>
                                <div class="col d-flex justify-content-end">
                                    <h5>Domiciliarios.</h5>
                                </div>
                            </div>
                            <hr>
                            <div style="margin-bottom: .5rem; font-size: .4cm">
                                Domiciliarios registrados: 10
                            </div>
                        </div>
                        <div class="col CuerpoCard">
                            <div class="row" style="margin: 1rem;">
                                <div class="col iconoCard">
                                    <div style="font-size: 2rem;">
                                        <span class="fas fa-users"></span>
                                    </div>
                                </div>
                                <div class="col d-flex justify-content-end">
                                    <h5>Domiciliarios.</h5>
                                </div>
                            </div>
                            <hr>
                            <div style="margin-bottom: .5rem; font-size: .4cm">
                                Domiciliarios con papeles en proxima expiración: 1
                            </div>
                        </div>

                        <div class="col CuerpoCard">
                            <div class="row" style="margin: 1rem;">
                                <div class="col iconoCard">
                                    <div style="font-size: 2rem;">
                                        <span class="icon-motorcycle"></span>
                                    </div>
                                </div>
                                <div class="col d-flex justify-content-end">
                                    <h5>Vehiculos.</h5>
                                </div>
                            </div>
                            <hr>
                            <div style="margin-bottom: .5rem;font-size: .4cm">
                                Veiculos con papeles en proxima expiración: 1
                            </div>
                        </div>
                        <div class="col CuerpoCard">
                            <div class="row" style="margin: 1rem;">
                                <div class="col iconoCard">
                                    <div style="font-size: 2rem;">
                                        <span class="fas fa-tags"></span>
                                    </div>
                                </div>
                                <div class="col d-flex justify-content-end">
                                    <h5>Productos.</h5>
                                </div>
                            </div>
                            <hr>
                            <div style="margin-bottom: .5rem;font-size: .4cm">
                                Productos registrados: {{totalProductos}}
                            </div>
                        </div>
                        <div class="col CuerpoCard">
                            <div class="row" style="margin: 1rem;">
                                <div class="col iconoCard">
                                    <div style="font-size: 2rem;">
                                        <span class="fas fa-tags"></span>
                                    </div>
                                </div>
                                <div class="col d-flex justify-content-end">
                                    <h5>Productos.</h5>
                                </div>
                            </div>
                            <hr>
                            <div style="margin-bottom: .5rem;font-size: .4cm">
                                Productos con pocas cantidades: {{totalProductos}}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div [ngClass]="{'Ocultar':  mostrar != 'EditarInfo'}">
            <div class="Cuerpo">
                <form class="col-8 font-weight-normal   " id="formularioEditarAdministrador" style="margin-top: 1rem;">

                    <div class="text-center">
                        <h5>Editar informacion</h5>
                    </div>
                    <hr>
                    <div class="col ">
                        <div class="row">
                            <div class="col">
                                <label for="LblNameAdministrador">Nombre</label>
                                <input type="Text" id="LblNameAdministrador" class="form-control" placeholder="Nombres"
                                    [(ngModel)]="administradorActualizar.nombres" [ngModelOptions]="{standalone: true}">
                            </div>
                            <div class="col">
                                <label for="LblApellidoAdministrador">Apellidos</label>
                                <input type="text" id="LblApellidoAdministrador" name="apellidos"  placeholder="Apellidos"
                                    class="form-control"  [(ngModel)]="administradorActualizar.apellidos"
                                    [ngModelOptions]="{standalone: true}" />
                            </div>
                            <div class="col">
                                <label for="LblPuestoAdministrador">Puesto</label>
                                <input type="Text" id="LblPuestoAdministrador" class="form-control" placeholder="Puesto"
                                    [(ngModel)]="administradorActualizar.puesto" [ngModelOptions]="{standalone: true}">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                <label for="LblTelefonoAdministrador">Telefono fijo o Movil</label>
                                <input type="text" id="LblTelefonoAdministrador" class="form-control"
                                    [(ngModel)]="administradorActualizar.telefono"
                                    [ngModelOptions]="{standalone: true}">
                            </div>
                            <div class="col">
                                <label for="LblWhatsappAdministrador">Numero Whatsapp</label>
                                <input type="text" id="LblWhatsappAdministrador"   name="Whatsapp"
                                      class="form-control"  [(ngModel)]="administradorActualizar.whatsapp"
                                    [ngModelOptions]="{standalone: true}" />
                            </div>

                        </div>
                        <div class="row">
                            <div class="col">
                                <label for="inputPassword1Administrador">Contraseña</label>
                                <input type="password" id="inputPassword1Administrador" class="form-control"
                                    placeholder="Contraseña" required="" _mstplaceholder="182013"
                                    [(ngModel)]="contrasenaActualizar" [ngModelOptions]="{standalone: true}">
                            </div>
                            <div class="col">
                                <label for="inputPasswordAdministrador">Contraseña</label>
                                <input type="password" id="inputPasswordAdministrador" class="form-control"
                                    placeholder="Contraseña" required="" _mstplaceholder="182013"
                                    [(ngModel)]="contrasenaconfirmar" [ngModelOptions]="{standalone: true}">
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="row d-flex justify-content-center">
                        <div class="col d-flex justify-content-center">
                            <button class="btn btn-outline-dark" style=" width: 50%" type="submit"
                                (click)='atualizarInformacion("Administrador")'>
                                <span class="fas fa-sync-alt"></span> Editar
                            </button>
                        </div>
                        <div class="col d-flex justify-content-center">
                            <button class="btn btn-outline-danger" style=" width: 50%" (click)="mostrar = 'Principal'">
                                <span class="icon-arrow-left1"></span> Volver
                            </button>
                        </div>
                    </div>
                    <hr style="visibility: hidden;">
                </form>
            </div>
        </div>
        <div [ngClass]="{'Ocultar':  mostrar != 'RegistrarCliente'}">
            <div class="Cuerpo">
                <form class="col-8 font-weight-normal" id="formularioRgistrarCliente" style="margin-top: 1rem;"
                    [formGroup]="formularioRegistroCliente">
                    <div class="text-center">
                        <h5>Registrar cliente</h5>
                    </div>
                    <hr>

                    <div class="col-6">
                        <label for="">Identificacion</label>
                        <input type="text"  name="identificacion"  placeholder="identificacion" class="form-control"
                            formControlName="identificacion"
                             [ngClass]="{'is-invalid':  control.identificacion.touched && control.identificacion.errors}" />
                        <div *ngIf="control.identificacion.errors" class="invalid-feedback">
                            <div *ngIf="control.identificacion.errors.required">Se require la identificacion
                            </div>
                        </div>
                    </div>


                    <div class="col row">
                        <div class="col">
                            <label for="LblNameAdministrador">Nombre</label>
                            <input type="Text" id="LblNameAdministrador" class="form-control" placeholder="Nombres"
                                formControlName="nombres"
                                [ngClass]="{'is-invalid':  control.nombres.errors  && control.nombres.touched}">
                            <div *ngIf="control.nombres.errors" class="invalid-feedback">
                                <div *ngIf="control.nombres.errors.required">Se requiren los nombres</div>
                            </div>
                        </div>
                        <div class="col">
                            <label>Apellidos</label>
                            <input type="text"  name="apellidos"  placeholder="Apellidos" class="form-control"
                                formControlName="apellidos"
                                 [ngClass]="{'is-invalid':  control.apellidos.touched && control.apellidos.errors}" />
                            <div *ngIf="control.apellidos.errors" class="invalid-feedback">
                                <div *ngIf="control.apellidos.errors.required">Se requiren los apellidos</div>
                            </div>
                        </div>
                    </div>
                    <div class="col row">
                        <div class="col">
                            <label for="inputEmail">Correo Electronico</label>
                            <input type="email" id="inputEmail" class="form-control" placeholder="Correo Electronico"
                                required="" autofocus="" _mstplaceholder="868153" formControlName="correo"
                                 [ngClass]="{'is-invalid':  control.correo.touched && control.correo.errors}">
                            <div *ngIf="control.correo.errors" class="invalid-feedback">
                                <div *ngIf="control.correo.errors.required">Se require el correo</div>
                            </div>
                        </div>
                        <div class="col">
                            <label for="">Tipo de cliente</label>
                            <select class="form-control " formControlName="tipoCliente"
                                 [ngClass]="{'is-invalid':  control.tipoCliente.touched && control.tipoCliente.errors}">
                                <option value="Cliente Negocio">Tiene negocio</option>
                                <option value="Cliente casual">Cliente casual</option>
                            </select>
                            <div *ngIf="control.tipoCliente.errors" class="invalid-feedback">
                                <div *ngIf="control.tipoCliente.errors.required">Se require que seleccione el
                                    tipo de cliente</div>
                            </div>
                        </div>
                    </div>
                    <div class="col row">
                        <div class="col">
                            <label for="inputPassword1">Contraseña</label>
                            <input type="password" id="inputPassword1" class="form-control" placeholder="Contraseña"
                                required="" _mstplaceholder="182013" formControlName="contrasena"
                                 [ngClass]="{'is-invalid':  control.contrasena.touched && control.contrasena.errors}">
                            <div *ngIf="control.contrasena.errors" class="invalid-feedback">
                                <div *ngIf="control.contrasena.errors.required">Se require la contraseña</div>
                            </div>
                        </div>
                        <div class="col">
                            <label for="inputPassword">Contraseña</label>
                            <input type="password" id="inputPassword" class="form-control" placeholder="Contraseña"
                                required="" _mstplaceholder="182013" formControlName="contrasenaconfirmar"
                                 [ngClass]="{'is-invalid':  control.contrasenaconfirmar.touched && control.contrasenaconfirmar.errors}">
                            <div *ngIf="control.contrasenaconfirmar.errors" class="invalid-feedback">
                                <div *ngIf="control.contrasenaconfirmar.errors.required">Se require la
                                    confirmacion de la contraseña</div>

                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="row d-flex justify-content-center">
                        <div class="col d-flex justify-content-end">
                            <button class="btn btn-outline-dark" style="width: 50%" type="submit" (click)="onSubmit()"  
                                [disabled]="formularioRegistroCliente.invalid">
                                <span class="fas fa-user-plus"></span> Registrar
                            </button>
                        </div>

                        <div class="col d-flex justify-content-star">
                            <button class="btn btn-outline-danger" style="width: 50%" type="reset"
                                (click)="mostrar = 'Principal'">
                                <span class="icon-arrow-left1"></span>Volver
                            </button>
                        </div>
                    </div>
                    <hr style="visibility: hidden;">
                </form>
            </div>
        </div>
        <div [ngClass]="{'Ocultar':  mostrar != 'Clientes'}">
            <div class="Cuerpo">
                <form class="col font-weight-normal">
                    <div class="text-center" style="margin-top: 1rem;">
                        <h5>Clientes</h5>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="col">
                            <label>Filtro por identificacion.</label>
                            <input class="form-control col-5" type="text" style="width: 200px;" placeholder="Identificacion"
                                [(ngModel)]="filtroClientes" [ngModelOptions]="{standalone: true}">
                        </div>
                        <div class="col d-flex justify-content-end" style="padding-top: 2rem;">
                            <button class="btn btn-outline-danger" style=" width: 150px;height: 40px;"
                                (click)="mostrar = 'Principal'">
                                <span class="icon-arrow-left1"></span> Volver
                            </button>
                        </div>
                    </div>
                    
                    <hr style="visibility: hidden;">


                    <div class="table-responsive">
                        <table class="table table-responsive-sm" *ngIf='listaClientes && listaClientes.length'>
                            <thead class="thead-light">
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">Identificación</th>
                                    <th scope="col">Nombres </th>
                                    <th scope="col">Apellidos </th>
                                    <th scope="col">Telefono</th>
                                    <th scope="col">Whatsapp</th>
                                    <th scope="col">Direccion</th>
                                    <th scope="col">Horario</th>
                                    <th scope="col">Tipo Cliente</th>
                                    <th scope="col">Opcion</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let cliente of listaClientes|filtroCliente:filtroClientes; index as i">
                                    <th scope="row">{{ i + 1 }}</th>
                                    <td>{{ cliente.identificacion }} </td>
                                    <td>{{ cliente.nombres }}</td>
                                    <td>{{ cliente.apellidos }}</td>
                                    <td>{{ cliente.telefono }}</td>
                                    <td>{{ cliente.whatsapp }}</td>
                                    <td>{{ cliente.direccion }}</td>
                                    <td>{{ cliente.horaio }}</td>
                                    <td>{{ cliente.tipoCliente }}</td>
                                    <td><button class="btn btn-outline-dark" (click)="vercliente(cliente)">Ver</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <hr>
                </form>
            </div>
        </div>
        <div *ngIf="mostrar == 'RegistrarPrdocuto'">
            <div class="Cuerpo contenedor">
                <form [formGroup]="formularioregistroProducto">
                    <div class="text-center" style="margin-top: 1rem;">
                        <h5>Registrar producto</h5>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="col">
                            <input type="file" class="d-none" (change)="onPhotoSelected($event)" #photoInput>
                            <img [src]="selectedFile || 'assets/images.png'" class="img-fluid" width="300px"
                                height="300px" alt="no imagen" (click)="photoInput.click()">
                        </div>

                        <div class="col">
                            <label for="">Categoria</label>
                            <select class="form-control " formControlName="categoria"
                                 [ngClass]="{'is-invalid':  controlProducto.categoria.touched && controlProducto.categoria.errors}">
                                <option value="Carne de res">Carne de res</option>
                                <option value="Pollo">Pollo</option>
                                <option value="Carne de cerdo">Carne de cerdo</option>
                            </select>
                            <div *ngIf="controlProducto.categoria.errors" class="invalid-feedback">
                                <div *ngIf="controlProducto.categoria.errors.required">
                                    Se require que seleccione la categoria del producto
                                </div>
                            </div>
                            <label>Referencia</label>
                            <input type="text" class="form-control" formControlName="codigo"
                                 [ngClass]="{'is-invalid':  controlProducto.codigo.touched && controlProducto.codigo.errors}" />
                            <div *ngIf="controlProducto.codigo.errors" class="invalid-feedback">
                                <div *ngIf="controlProducto.codigo.errors.required">Se requiere una
                                    referencia</div>
                            </div>

                            <label for="">Nombre</label>
                            <input type="text" class="form-control " formControlName="nombre"
                                [ngClass]="{'is-invalid':  controlProducto.nombre.touched && controlProducto.nombre.errors}" />
                            <div *ngIf="controlProducto.nombre.errors" class="invalid-feedback">
                                <div *ngIf="controlProducto.nombre.errors.required">
                                    Se require que ingrese el nombre del producto
                                </div>
                            </div>

                            <label>Cantidad (Kg)</label>
                            <input type="number" class="form-control" formControlName="cantidad"
                                 [ngClass]="{'is-invalid':  controlProducto.cantidad.touched && controlProducto.cantidad.errors}" />
                            <div *ngIf="controlProducto.cantidad.errors" class="invalid-feedback">
                                <div *ngIf="controlProducto.cantidad.errors.required">Se require la
                                    cantidad</div>
                            </div>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col">
                            <label>Cantidad Minima (Kg)</label>
                            <input type="number" class="form-control" formControlName="cantidadMinima"
                                 [ngClass]="{'is-invalid':  controlProducto.cantidadMinima.touched && controlProducto.cantidadMinima.errors}" />
                            <div *ngIf="controlProducto.cantidadMinima.errors" class="invalid-feedback">
                                <div *ngIf="controlProducto.cantidadMinima.errors.required">Se require la
                                    cantidad minima</div>
                            </div>
                        </div>
                        <div class="col">
                            <label>Precio por kilo</label>
                            <input type="number" class="form-control" formControlName="valor"
                                 [ngClass]="{'is-invalid':  controlProducto.valor.touched && controlProducto.valor.errors}" />
                            <div *ngIf="controlProducto.valor.errors" class="invalid-feedback">
                                <div *ngIf="controlProducto.valor.errors.required">Se require el valor</div>
                            </div>
                        </div>
                    </div>

                    <div class="">
                        <label>Descripción</label>
                        <textarea type="text" class="form-control" formControlName="descripcion"
                             [ngClass]="{'is-invalid':  controlProducto.descripcion.touched && controlProducto.descripcion.errors}"></textarea>
                        <div *ngIf="controlProducto.descripcion.errors" class="invalid-feedback">
                            <div *ngIf="controlProducto.descripcion.errors.required">Se requiere una
                                breve descripción</div>
                        </div>
                    </div>
                    <div class="col ">
                        <hr style="visibility: hidden;">
                        <div class="d-flex justify-content-end">
                            <button class="btn btn-outline-dark" style="width: 50%; margin-right: .5rem;" type="submit"
                                (click)="onSubmitProducto()"   [disabled]="formularioregistroProducto.invalid">Registrar
                            </button>
                            <button class="btn btn-outline-danger" style="width: 50%; margin-left: .5rem;" type="reset"
                                (click)="mostrar = 'Principal'">
                                <span class="icon-arrow-left1"></span>Volver
                            </button>
                        </div>
                    </div>
                    <hr>
                </form>
            </div>
        </div>
        <div *ngIf="mostrar == 'Productos'">
            <div class="Cuerpo">
                <form class="col font-weight-normal">
                    <div class="text-center" style="margin-top: 1rem;">
                        <h5>Productos</h5>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="col">
                            <label>Filtro por referencia.</label>
                            <input class="form-control col-5" type="text" style="width: 200px;" placeholder="Referencia"
                                [(ngModel)]="filtroProductos" [ngModelOptions]="{standalone: true}">
                        </div>
                        <div class="col d-flex justify-content-end" style="padding-top: 2rem;">
                            <button class="btn btn-outline-danger" style=" width: 150px;height: 40px;"
                                (click)="mostrar = 'Principal'">
                                <span class="icon-arrow-left1"></span> Volver
                            </button>
                        </div>
                    </div>
                    
                    <hr style="visibility: hidden;">
                    <div class="table-responsive">
                        <table class="table table-responsive-sm" *ngIf='listaProductos && listaProductos.length'>
                            <thead class="thead-light">
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">Referencia</th>
                                    <th scope="col">categoria </th>
                                    <th scope="col">nombre </th>
                                    <th scope="col">cantidad</th>
                                    <th scope="col">Valor</th>
                                    <th scope="col">opciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let producto of listaProductos|filtroProducto:filtroProductos; index as i">
                                    <th scope="row">{{ i + 1 }}</th>
                                    <td>{{ producto.codigo }} </td>
                                    <td>{{ producto.categoria }}</td>
                                    <td>{{ producto.nombre }}</td>
                                    <td>{{ producto.cantidad }}</td>
                                    <td>{{ producto.valor}}</td>
                                    <td><button class="btn btn-outline-dark" (click)="verProducto(producto)">Ver</button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <hr>
                </form>
            </div>
        </div>
        <div [ngClass]="{'Ocultar': mostrar != 'Producto'}">
            <div class="Cuerpo">
                <form style="min-width: 700px;">
                    <div class="text-center" style="margin-top: 1rem;">
                        <h5>Producto: {{productoConsulta.codigo}} {{productoConsulta.nombre}}</h5>
                    </div>
                    <hr>
                    <div class="info">
                        
                        <div class="row">
                            <div class="col">
                                <img [src]="imagenProductoView.imagen" alt="imagen" class="img-card-top w-100">
                            </div>
                            <div class="col">
                                <div class="row">
                                    <div class="col">
                                        <label >Categoria: </label>
                                    </div>
                                    <div class="col">
                                        <p>
                                            {{productoConsulta.categoria}}
                                        </p>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <label >Cantidad: </label>
                                    </div>
                                    <div class="col">
                                        <p>
                                            {{productoConsulta.cantidad}} Kg
                                        </p>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <label >Cantidad minima: </label>
                                    </div>
                                    <div class="col">
                                        <p>
                                            {{productoConsulta.cantidadMinima}}
                                        </p>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <label >Valor unitario: </label>
                                    </div>
                                    <div class="col">
                                        <p>
                                            {{productoConsulta.valor}}
                                        </p>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <label >Descripción: </label>
                                    </div>
                                    <div class="col">
                                        <p>
                                            {{productoConsulta.descripcion}}
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col d-flex justify-content-end">
                            <button class="btn btn-outline-danger" style=" width: 150px"
                                (click)="mostrar = 'Productos'">
                                <span class="icon-arrow-left1"></span> Volver
                            </button>
                        </div>
                    </div>
                    <hr>
                </form>
            </div>
        </div>
        <div [ngClass]="{'Ocultar':  mostrar != 'Cliente'}">
            <div class="Cuerpo">
                <form style="min-width: 700px;">
                    <div class="text-center" style="margin-top: 1rem;">
                        <h5>Cliente: {{clienteConsuta.nombres}} {{clienteConsuta.apellidos}},
                            {{clienteConsuta.identificacion}}</h5>
                    </div>
                    <hr>
                    <div class="info">
                        <h5>Informacion de contacto.</h5>
                        <div class="row">
                            <div class="col">
                                <label for="LblTelefono">Telefono fijo o movil: </label>
                            </div>
                            <div class="col">
                                <p>
                                    {{clienteConsuta.telefono}}
                                </p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                <label for="LblWhatsapp">Whatsapp: </label>
                            </div>
                            <div class="col">
                                <p>
                                    {{clienteConsuta.whatsapp}}
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col d-flex justify-content-end">
                        <button class="btn btn-outline-danger" style=" width: 150px"
                            (click)="mostrar = 'Clientes'">
                            <span class="icon-arrow-left1"></span> Volver
                        </button>
                    </div>
                    <hr>
                </form>
            </div>
        </div>
        <div [ngClass]="{'Ocultar':  mostrar != 'DescuentosCliente'}">
            <div class="Cuerpo">
                <form style="width: 98%;">
                    <div class="text-center" style="margin-top: 1rem;">
                        <h5>Cliente: {{clienteConsuta.nombres}} {{clienteConsuta.apellidos}},
                            {{clienteConsuta.identificacion}}</h5>
                    </div>
                    <hr>
                    <div class="row d-flex justify-content-center">
                        <div class="col d-flex justify-content-center">
                            <button class="btn btn-outline-dark"
                                (click)="mostrarDescuentosCliente(); mostrarOpsInterno = 'DescuentosRegistrados'">
                                <span class="fas fa-sync-alt"></span>Descuentos
                            </button>
                        </div>
                        <div class="col d-flex justify-content-center">
                            <button class="btn btn-outline-dark"
                                (click)="productosSindescuento(); mostrarOpsInterno = 'ProductosSinDescuento'">
                                <span class="fas fa-sync-alt"></span>Productos sin Descuentos
                            </button>
                        </div>

                        <div class="col d-flex justify-content-center">
                            <button class="btn btn-outline-danger" style=" width: 50%"
                                (click)="mostrar = 'Clientes'; mostrarInterno = 'Descuentos'; mostrarOpsInterno = ''">
                                <span class="icon-arrow-left1"></span> Volver
                            </button>
                        </div>
                    </div>
                    <div class="col table-responsive"
                        [ngClass]="{'Ocultar':  mostrarOpsInterno != 'DescuentosRegistrados'}">
                        <div class="text-center" style="margin-top: 1rem;">
                            <h6>Descuentos registrados.</h6>
                        </div>
                        <hr>
                        <table class="table table-responsive-sm" *ngIf='listaDescuentos && listaDescuentos.length'>
                            <thead class="thead-light">
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">Referencia P.</th>
                                    <th scope="col">Nombre P.</th>
                                    <th scope="col">%Descuento</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let descuento of listaDescuentos|filtroCliente:filtroClientes; index as i">
                                    <th scope="row">{{ i + 1 }}</th>
                                    <td>{{ descuento.codProducto }} </td>
                                    <th>{{ descuento.nombreProducto }}</th>
                                    <td>{{ descuento.porcentaje }}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="col table-responsive"
                        [ngClass]="{'Ocultar':  mostrarOpsInterno != 'ProductosSinDescuento'}">
                        <div class="text-center" style="margin-top: 1rem;">
                            <h6>Productos sin descuentos.</h6>
                        </div>
                        <hr>
                        <div class="row" style="margin-bottom: 1rem;">
                            <div class="col ">
                                <input type="number" class="form-control" [(ngModel)]="descuentoParaTodos"
                                    name="porcentajeTodos" />
                            </div>

                            <div class="col ">
                                <button class="btn btn-outline-dark" (click)="aplicarATodosUnDescuento()">
                                    Todos por igual
                                </button>
                            </div>
                            <div class="col ">
                                <button class="btn btn-outline-dark" (click)="registrarDescuentos()">Aplicar
                                    descuentos
                                </button>
                            </div>
                        </div>
                        <table class="table table-responsive-sm">
                            <thead class="thead-light">
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">Referencia </th>
                                    <th scope="col">Nombre </th>
                                    <th scope="col">Valor</th>
                                    <th scope="col">%Descuento</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let producto of listaProductosSinDescuento; index as i">
                                    <th scope="row">{{ i + 1 }}</th>
                                    <td>{{ producto.codigo }} </td>
                                    <td>{{ producto.nombre }}</td>
                                    <td>{{ producto.valor }}</td>
                                    <td>
                                        <input type="number" class="form-control"
                                            [(ngModel)]="listaDescuentosNuevos[i].porcentaje" name="porcentaje" />
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </form>
            </div>
        </div>
        <div [ngClass]="{'Ocultar':  mostrar != 'Pedidos'}">
            <div class="Cuerpo">
                <form class="col font-weight-normal">
                    <div class="text-center" style="margin-top: 1rem;">
                        <h5>Pedidos</h5>
                    </div>
                    <hr>
                    <button class="btn btn-outline-danger" style="width: 10%; margin-left: .5rem;"
                        (click)="mostrar = 'Principal'">
                        <span class="icon-arrow-left1"></span>Volver
                    </button>
                    <div class="table-responsive">
                        <table class="table table-responsive-sm" *ngIf='listaPedidos && listaPedidos.length'>
                            <thead class="thead-light">
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">codigo</th>
                                    <th scope="col">Cliente</th>
                                    <th scope="col">fecha</th>
                                    <th scope="col">subTotal</th>
                                    <th scope="col">Iva</th>
                                    <th scope="col">Descuento</th>
                                    <th scope="col">total</th>
                                    <th scope="col">Estado</th>
                                    <th scope="col">opciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let pedido of listaPedidos; index as i">
                                    <th scope="row">{{ i + 1 }}</th>
                                    <td>{{ pedido.codigo }} </td>
                                    <td>{{ pedido.idPersona }}</td>
                                    <td>{{ pedido.fecha }}</td>
                                    <td>{{ pedido.subTotal }}</td>
                                    <td>{{ pedido.iva }}</td>
                                    <td>{{ pedido.descuento }}</td>
                                    <td>{{ pedido.total }}</td>
                                    <th>{{ pedido.estado }}</th>
                                    <td><button class="btn btn-outline-dark">Ver</button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <hr>
                </form>
            </div>
        </div>
        <div [ngClass]="{'Ocultar':  mostrar != 'SelccionarProductosPedido'}">
            <div class="Cuerpo">
                <form class="font-weight-normal" id="formularioRgistrarCliente" style="margin-top: 1rem;">
                    <div>
                        <div class=" row" style="padding-right: 2rem;">
                            <div class="col">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col">
                                                <h5 class="card-title"><span class="fas fa-user"></span>Cliente.</h5>
                                                <hr>
                                                <div class="row">
                                                    <div class="col">
                                                        <p>
                                                            Identificacion:
                                                        </p>
                                                    </div>
                                                    <div class="col">
                                                        <p>
                                                            {{clienteConsuta.identificacion}}
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col">
                                                        <p>
                                                            Nombres:
                                                        </p>
                                                    </div>
                                                    <div class="col">
                                                        <p>
                                                            {{clienteConsuta.nombres}}
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col">
                                                        <p>
                                                            Apellidos:
                                                        </p>
                                                    </div>
                                                    <div class="col">
                                                        <p>
                                                            {{clienteConsuta.apellidos}}
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col">
                                                <h5 class="card-title"><span class="fas fa-calendar-alt"></span>Fecha.
                                                </h5>
                                                <hr>
                                                <div class="row">
                                                    <div class="col">
                                                        <p>
                                                            Fecha:
                                                        </p>
                                                    </div>
                                                    <div class="col">
                                                        <p>
                                                            {{pedidoGenrado.fecha}}
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col">
                                                <h5 class="card-title"><span
                                                        class="fas fa-truck-loading"></span>Entrega.</h5>
                                                <hr>
                                                <div class="row">
                                                    <div class="col">
                                                        <p>
                                                            Dirección:
                                                        </p>
                                                    </div>
                                                    <div class="col">
                                                        <p>
                                                            {{clienteConsuta.direccion}}
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                        <hr style="visibility: hidden;">

                        <div class="row d-flex justify-content-center">
                            <div class="col">
                                <button class="btn btn-outline-dark" data-toggle="collapse"
                                    data-target="#AñadirProductoPedido" aria-expanded="false"
                                    aria-controls="AñadirProductoPedido">
                                    <span class="fas fa-search"></span> Añadir producto
                                </button>
                            </div>
                            <div class="col">
                                <button class="btn btn-outline-dark" (click)="registrarPedido()">
                                    <span class="fas fa-search"></span> Registrar pedido
                                </button>
                            </div>
                            <div class="col d-flex justify-content-end">
                                <button class="btn btn-outline-danger" style="width: 50%" type="reset"
                                    (click)="mostrar = 'Clientes'">
                                    <span class="icon-arrow-left1"></span>Volver
                                </button>
                            </div>
                        </div>

                        <div class="collapse" id="AñadirProductoPedido">
                            <hr style="visibility: hidden;">
                            <div class="col-sm-6">
                                <div class="card">
                                    <div class="card-body">
                                        <h5 class="card-title"><span class="fas fa-plus"></span>Producto.</h5>
                                        <hr>
                                        <div style="margin-bottom: .5rem; font-size: .4cm;">
                                            <div class="row">
                                                <div class="col">
                                                    <label>Referencia:</label>
                                                    <input type="number"  name="BuscarProducto"
                                                        [(ngModel)]="codigoProducto" class="form-control" />
                                                </div>
                                                <div class="col">
                                                    <hr style="visibility: hidden;">
                                                    <button class="btn btn-outline-dark" (click)="BuscarProducto()">
                                                        <span class="fas fa-search" style="margin-right: 0rem;"></span>
                                                    </button>
                                                </div>
                                            </div>
                                            <hr>
                                            <div class="row">
                                                <div class="col">
                                                    <label>Nombre:</label>
                                                </div>
                                                <div class="col">
                                                    {{productoSeleccionado.nombre}}
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col">
                                                    <label>Cantidad Actual:</label>
                                                </div>
                                                <div class="col">
                                                    {{productoSeleccionado.cantidad}}
                                                </div>
                                            </div>
                                            <hr>
                                            <div class="row">
                                                <div class="col">
                                                    <label>Cantidad a añadir:</label>
                                                    <input type="number"  name="cantidad" [(ngModel)]="cantidadProducto"
                                                        class="form-control" />
                                                </div>
                                                <div class="col">
                                                    <hr style="visibility: hidden;">
                                                    <hr style="visibility: hidden;">
                                                    <button class="btn btn-outline-dark" (click)="AgregarProducto()"
                                                        data-toggle="collapse" data-target="#AñadirProductoPedido"
                                                        aria-expanded="false" aria-controls="AñadirProductoPedido">
                                                        <span class="fas fa-plus" style="margin-right: 0rem;"></span>
                                                    </button>
                                                </div>
                                            </div>
                                            <hr style="visibility: hidden;">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <hr style="visibility: hidden;">
                        <div class="table-responsive">
                            <table class="table table-responsive-sm"
                                *ngIf='pedidoGenrado.detallesDePedidos && pedidoGenrado.detallesDePedidos.length'>
                                <thead class="thead-light">
                                    <tr>
                                        <th scope="col">#</th>
                                        <th scope="col">codigo Producto</th>
                                        <th scope="col">cantidad</th>
                                        <th scope="col">Valor unitario</th>
                                        <th scope="col">Descuento</th>
                                        <th scope="col">Sub total</th>
                                        <th scope="col">opciones</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let detalle of pedidoGenrado.detallesDePedidos; index as i">
                                        <th scope="row">{{ i + 1 }}</th>
                                        <td>{{ detalle.codProducto }} </td>
                                        <td>{{ detalle.cantidad }}</td>
                                        <td>{{ detalle.valorUnitario }}</td>
                                        <td>{{ detalle.totalDescuento }}</td>
                                        <td>{{ detalle.subTotal}}</td>
                                        <td>
                                            <button class="btn btn-outline-dark"
                                                (click)="EliminarProducto(detalle)">
                                                <span class="far fa-trash-alt"></span>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <hr style="visibility: hidden;">
                    <div class="col-sm-6 d-flex justify-content-end">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title"><span class="fas fa-poll-h"></span>Totales.</h5>
                                <hr>
                                <div class="row">
                                    <div class="col">
                                        <p>
                                            Total:
                                        </p>
                                    </div>
                                    <div class="col">
                                        <p>
                                            {{pedidoGenrado.total}}
                                        </p>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <p>
                                            Sub Total:
                                        </p>
                                    </div>
                                    <div class="col">
                                        <p>
                                            {{pedidoGenrado.subTotal}}
                                        </p>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <p>
                                            Porcentaje iva:
                                        </p>
                                    </div>
                                    <div class="col">
                                        <p>
                                            {{pedidoGenrado.iva}}
                                        </p>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <p>
                                            Total iva:
                                        </p>
                                    </div>
                                    <div class="col">
                                        <p>
                                            {{pedidoGenrado.totalIva}}
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </form>
            </div>
        </div>
    </div>
</div>